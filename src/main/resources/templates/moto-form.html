<!DOCTYPE html>
<html lang="pt-br"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments :: head(${moto.id} != null ? 'Editar Moto' : 'Nova Moto')}"></head>
<body>
<nav th:replace="~{fragments :: navbar}"></nav>

<div class="container mx-auto p-6">
    <h1 class="text-2xl font-bold mb-4"
        th:text="${moto.id} != null ? 'Editar Moto' : 'Nova Moto'">Moto</h1>

    <form th:action="@{/motos/html/form}"
          th:object="${moto}" method="post" class="space-y-4">

        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <input type="hidden" th:if="${moto.id}" th:field="*{id}"/>

        <div>
            <label  class="block mb-1" th:text="#{model}">Modelo</label>
            <input type="text" th:field="*{modelo}" class="input input-bordered w-full"/>
            <small class="text-red-600" th:if="${#fields.hasErrors('modelo')}" th:errors="*{modelo}"></small>
        </div>

        <div>
            <label  class="block mb-1" th:text="#{plate}">Placa</label>
            <input type="text" th:field="*{placa}" class="input input-bordered w-full"/>
            <small class="text-red-600" th:if="${#fields.hasErrors('placa')}" th:errors="*{placa}"></small>
        </div>

        <div>
            <label class="block mb-1" th:text="#{status}">Status</label>
            <select th:field="*{status}" th:errorclass="select-error" class="select select-bordered w-full">
                <option value="">Selecione...</option>
                <option value="DISPONIVEL" th:text="#{available}">Disponível</option>
                <option value="ALUGADA" th:text="#{rented}">Alugada</option>
                <option value="MANUTENCAO" th:text="#{maintenance}">Manutenção</option>
            </select>
            <small class="text-red-600" th:if="${#fields.hasErrors('status')}" th:errors="*{status}"></small>
        </div>

        <div>
            <label class="block text-sm font-medium">Pátio</label>
            <select th:field="*{patioId}" class="select select-bordered w-full" th:errorclass="select-error" id="patioSelect">
                <option value="">Selecione...</option>
                <option th:each="p : ${patios}" th:value="${p.id}" th:text="${p.nome}"></option>
            </select>
            <p class="text-sm text-error" th:errors="*{patioId}"></p>
        </div>

        <div>
            <label class="block text-sm font-medium">Tipo de Zona</label>
            <select th:field="*{tipoZona}" class="select select-bordered w-full" id="tipoZonaSelect">
                <option value="">Selecione A ou B</option>
                <option value="A">Zona A</option>
                <option value="B">Zona B</option>
            </select>
            <p class="text-sm text-error" th:errors="*{tipoZona}"></p>
        </div>

        <div class="flex justify-between">
            <button class="btn btn-success" type="submit" th:text="#{save}">Salvar</button>
            <a href="/motos/html" class="btn btn-ghost" th:text="#{cancel}">Cancelar</a>
        </div>

    </form>
</div>

<footer th:replace="~{fragments :: footer}"></footer>
</body>
</html>
